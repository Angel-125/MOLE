//Breakable parts are added to parts that have various modules like engines, reaction wheels, and the like.
//The ModuleBreakableXXX MODULE entry is always added after the part module that it monitors. For instance,
//ModuleBreakableEngine appears in the config file after ModuleEngines and ModuleEnginesFX.

//Any part categorized as a fuel tank gets the ModuleBreakableFuelTank
@PART[*]:HAS[#category[FuelTank],!MODULE[ModuleBreakableFuelTank]]:FOR[BARIS]
{
	MODULE
	{
		name = ModuleBreakableFuelTank
	}
}

@PART[*]:HAS[@MODULE[ModuleEngines],!MODULE[ModuleBreakableEngine]]:FOR[BARIS]
{
	MODULE
	{
		name = ModuleBreakableEngine
		qualityCheckSkill = FullVesselControlSkill
	}
}

@PART[*]:HAS[@MODULE[ModuleEnginesFX],!MODULE[ModuleBreakableEngine]]:FOR[BARIS]
{
	MODULE
	{
		name = ModuleBreakableEngine
		qualityCheckSkill = FullVesselControlSkill
	}
}

@PART[*]:HAS[@MODULE[ModuleReactionWheel],!MODULE[ModuleBreakableSAS]]:FOR[BARIS]
{
	MODULE
	{
		name = ModuleBreakableSAS
		qualityCheckSkill = FullVesselControlSkill
	}
}

@PART[*]:HAS[@MODULE[ModuleRCS],!MODULE[ModuleBreakableRCS]]:FOR[BARIS]
{
	MODULE
	{
		name = ModuleBreakableRCS
		qualityCheckSkill = FullVesselControlSkill
	}
}

@PART[*]:HAS[@MODULE[ModuleRCSFX],!MODULE[ModuleBreakableRCS]]:FOR[BARIS]
{
	MODULE
	{
		name = ModuleBreakableRCS
		qualityCheckSkill = FullVesselControlSkill
	}
}

@PART[*]:HAS[@MODULE[ModuleDataTransmitter],!MODULE[ModuleBreakableTransmitter]]:FOR[BARIS]
{
	MODULE
	{
		name = ModuleBreakableTransmitter
		qualityCheckSkill = ScienceSkill
	}
}

//Fuel tanks that don't fall in the FuelTank category - thanks Hotaru!
@PART[*]:HAS[@RESOURCE[LiquidFuel],!MODULE[ModuleBreakableFuelTank]]:FOR[BARIS]
{
	MODULE
	{
		name = ModuleBreakableFuelTank
	}
}

@PART[*]:HAS[@RESOURCE[MonoPropellant],!MODULE[ModuleBreakableFuelTank]]:FOR[BARIS]
{
	MODULE
	{
		name = ModuleBreakableFuelTank
	}
}

@PART[*]:HAS[@RESOURCE[XenonGas],!MODULE[ModuleBreakableFuelTank]]:FOR[BARIS]
{
	MODULE
	{
		name = ModuleBreakableFuelTank
	}
}

@PART[*]:HAS[@RESOURCE[Hydrogen],!MODULE[ModuleBreakableFuelTank]]:FOR[BARIS]
{
	MODULE
	{
		name = ModuleBreakableFuelTank
	}
}

@PART[*]:HAS[@RESOURCE[Oxygen],!MODULE[ModuleBreakableFuelTank]]:FOR[BARIS]
{
	MODULE
	{
		name = ModuleBreakableFuelTank
	}
}

@PART[*]:HAS[@RESOURCE[ArgonGas],!MODULE[ModuleBreakableFuelTank]]:FOR[BARIS]
{
	MODULE
	{
		name = ModuleBreakableFuelTank
	}
}

@PART[*]:HAS[@RESOURCE[LqdHydrogen],!MODULE[ModuleBreakableFuelTank]]:FOR[BARIS]
{
	MODULE
	{
		name = ModuleBreakableFuelTank
	}
}

@PART[*]:HAS[@RESOURCE[Glykerol],!MODULE[ModuleBreakableFuelTank]]:FOR[BARIS]
{
	MODULE
	{
		name = ModuleBreakableFuelTank
	}
}

//Now apply patches to add quality control
//ModleQualityControl always appears after the ModuleBreakableXXX entries.
@PART[*]:HAS[@MODULE[ModuleBreakableFuelTank],!MODULE[ModuleQualityControl]]:FOR[BARIS]:FINAL
{
	MODULE
	{
		name = ModuleQualityControl
		mtbf = 600
	}
}

@PART[*]:HAS[@MODULE[ModuleBreakableTransmitter],!MODULE[ModuleQualityControl]]:FOR[BARIS]:FINAL
{
	MODULE
	{
		name = ModuleQualityControl
		mtbf = 600
		qualityCheckSkill = ScienceSkill
	}
}

@PART[*]:HAS[@MODULE[ModuleBreakableRCS],!MODULE[ModuleQualityControl]]:FOR[BARIS]:FINAL
{
	MODULE
	{
		name = ModuleQualityControl
		mtbf = 12
		mtbfHibernationFactor = 0.01
		qualityCheckSkill = FullVesselControlSkill
	}
}

@PART[*]:HAS[@MODULE[ModuleBreakableSAS],!MODULE[ModuleQualityControl]]:FOR[BARIS]:FINAL
{
	MODULE
	{
		name = ModuleQualityControl
		mtbf = 12
		mtbfHibernationFactor = 0.01
		qualityCheckSkill = FullVesselControlSkill
	}
}

@PART[*]:HAS[@MODULE[ModuleBreakableEngine],!MODULE[ModuleQualityControl]]:FOR[BARIS]:FINAL
{
	MODULE
	{
		name = ModuleQualityControl
		mtbf = 18
		mtbfHibernationFactor = 0.01
	}
}